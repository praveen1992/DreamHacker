<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DreamHacker: SensorTimer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DreamHacker
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_sensor_timer.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">SensorTimer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SensorTimer:</div>
<div class="dyncontent">
<div class="center"><img src="class_sensor_timer__inherit__graph.png" border="0" usemap="#a_sensor_timer_inherit__map" alt="Inheritance graph"/></div>
<map name="a_sensor_timer_inherit__map" id="a_sensor_timer_inherit__map">
<area shape="rect" title=" " alt="" coords="5,263,208,707"/>
<area shape="rect" href="class_cpp_timer.html" title=" " alt="" coords="53,5,160,215"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for SensorTimer:</div>
<div class="dyncontent">
<div class="center"><img src="class_sensor_timer__coll__graph.png" border="0" usemap="#a_sensor_timer_coll__map" alt="Collaboration graph"/></div>
<map name="a_sensor_timer_coll__map" id="a_sensor_timer_coll__map">
<area shape="rect" title=" " alt="" coords="569,535,771,964"/>
<area shape="rect" href="class_cpp_timer.html" title=" " alt="" coords="203,145,310,311"/>
<area shape="rect" title=" " alt="" coords="5,5,116,83"/>
<area shape="rect" title=" " alt="" coords="140,5,259,83"/>
<area shape="rect" title=" " alt="" coords="283,5,345,83"/>
<area shape="rect" title=" " alt="" coords="369,5,477,83"/>
<area shape="rect" title=" " alt="" coords="334,189,393,267"/>
<area shape="rect" href="class_sensor_callback.html" title=" " alt="" coords="483,189,598,267"/>
<area shape="rect" title=" " alt="" coords="647,189,693,267"/>
<area shape="rect" title=" " alt="" coords="754,189,805,267"/>
<area shape="rect" title=" " alt="" coords="855,189,893,267"/>
<area shape="rect" title=" " alt="" coords="968,189,1015,267"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afbfb91d0dc35bf217cb22f50d680b26e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#afbfb91d0dc35bf217cb22f50d680b26e">SensorTimer</a> (int, bool, bool)</td></tr>
<tr class="separator:afbfb91d0dc35bf217cb22f50d680b26e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b87e348b476be96d88ee70be98bef11"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a2b87e348b476be96d88ee70be98bef11">setCallback</a> (<a class="el" href="class_sensor_callback.html">SensorCallback</a> *cb)</td></tr>
<tr class="separator:a2b87e348b476be96d88ee70be98bef11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d15ff3f37f39e6baa43cf22a48263f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a6d15ff3f37f39e6baa43cf22a48263f2">timerEvent</a> ()</td></tr>
<tr class="separator:a6d15ff3f37f39e6baa43cf22a48263f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86849a9ab4dc5443cc93f96f00c29f6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a86849a9ab4dc5443cc93f96f00c29f6c">initPulseSensorVariables</a> (void)</td></tr>
<tr class="separator:a86849a9ab4dc5443cc93f96f00c29f6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d4119db865d1fd2bbff0fc8da67482"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a54d4119db865d1fd2bbff0fc8da67482">getPulse</a> (void)</td></tr>
<tr class="separator:a54d4119db865d1fd2bbff0fc8da67482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36233c0d18fe087bbfcf3a37bdf6dcec"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a36233c0d18fe087bbfcf3a37bdf6dcec">analyzeBeatsForSleep</a> (int bpm)</td></tr>
<tr class="separator:a36233c0d18fe087bbfcf3a37bdf6dcec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a042706c0c1ec146beb95e8f3947211fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a042706c0c1ec146beb95e8f3947211fd">initializeVariablesForSleep</a> (void)</td></tr>
<tr class="separator:a042706c0c1ec146beb95e8f3947211fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb180c4dab8ccaa5eae6870aa851f76a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#adb180c4dab8ccaa5eae6870aa851f76a">audioprocess</a> ()</td></tr>
<tr class="separator:adb180c4dab8ccaa5eae6870aa851f76a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03ec27b4291d6a2bdd84822415efe680"><td class="memItemLeft" align="right" valign="top">pid_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a03ec27b4291d6a2bdd84822415efe680">play_audio</a> (char *<a class="el" href="class_sensor_timer.html#a753287351e0381ca5d0d85df3078f762">audio_name</a>)</td></tr>
<tr class="separator:a03ec27b4291d6a2bdd84822415efe680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26f5ab50413256c6b9523b8cbe5f6a84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a26f5ab50413256c6b9523b8cbe5f6a84">kill_the_pid</a> (pid_t x)</td></tr>
<tr class="separator:a26f5ab50413256c6b9523b8cbe5f6a84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae70a0da132083a8135a17903baa68059"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#ae70a0da132083a8135a17903baa68059">beatsPerMinuteSimulation</a> ()</td></tr>
<tr class="separator:ae70a0da132083a8135a17903baa68059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa77fed86caa66cbff25f6f1599e6012"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#afa77fed86caa66cbff25f6f1599e6012">setPeriodOfSimulatedWave</a> (int)</td></tr>
<tr class="separator:afa77fed86caa66cbff25f6f1599e6012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8d148ba672bccb72ca45fea9b98fb38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#ad8d148ba672bccb72ca45fea9b98fb38">setSurelySleptTime</a> (int)</td></tr>
<tr class="separator:ad8d148ba672bccb72ca45fea9b98fb38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a571f7dcc621738e57607586cea71d302"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a571f7dcc621738e57607586cea71d302">setNigtTimeToNow</a> ()</td></tr>
<tr class="separator:a571f7dcc621738e57607586cea71d302"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab27fde0c17025181e3008d3246077bbc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#ab27fde0c17025181e3008d3246077bbc">stopNew</a> ()</td></tr>
<tr class="separator:ab27fde0c17025181e3008d3246077bbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_cpp_timer"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_cpp_timer')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_cpp_timer.html">CppTimer</a></td></tr>
<tr class="memitem:a300c3075e777cb4abdc09c9704ae6f87 inherit pub_methods_class_cpp_timer"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpp_timer.html#a300c3075e777cb4abdc09c9704ae6f87">CppTimer</a> (const int signo=SIGRTMIN)</td></tr>
<tr class="separator:a300c3075e777cb4abdc09c9704ae6f87 inherit pub_methods_class_cpp_timer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c8df87a608c7722bb9900cf925f571b inherit pub_methods_class_cpp_timer"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpp_timer.html#a6c8df87a608c7722bb9900cf925f571b">startns</a> (long nanosecs, <a class="el" href="_cpp_timer_8h.html#a110d07ab6a96d7815149d3d95435790a">cppTimerType_t</a> type=<a class="el" href="_cpp_timer_8h.html#a110d07ab6a96d7815149d3d95435790aae4379d044711537d9ce3b3b58c575c58">PERIODIC</a>)</td></tr>
<tr class="separator:a6c8df87a608c7722bb9900cf925f571b inherit pub_methods_class_cpp_timer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fec3e463138ab01f640aec9aafc14d0 inherit pub_methods_class_cpp_timer"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpp_timer.html#a1fec3e463138ab01f640aec9aafc14d0">startms</a> (long millisecs, <a class="el" href="_cpp_timer_8h.html#a110d07ab6a96d7815149d3d95435790a">cppTimerType_t</a> type=<a class="el" href="_cpp_timer_8h.html#a110d07ab6a96d7815149d3d95435790aae4379d044711537d9ce3b3b58c575c58">PERIODIC</a>)</td></tr>
<tr class="separator:a1fec3e463138ab01f640aec9aafc14d0 inherit pub_methods_class_cpp_timer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb95ddee98a536d0818b8f6096bf7e7 inherit pub_methods_class_cpp_timer"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpp_timer.html#a4bb95ddee98a536d0818b8f6096bf7e7">stop</a> ()</td></tr>
<tr class="separator:a4bb95ddee98a536d0818b8f6096bf7e7 inherit pub_methods_class_cpp_timer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91779a93fce7383a8d832ed481399342 inherit pub_methods_class_cpp_timer"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpp_timer.html#a91779a93fce7383a8d832ed481399342">~CppTimer</a> ()</td></tr>
<tr class="separator:a91779a93fce7383a8d832ed481399342 inherit pub_methods_class_cpp_timer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a5b5f30f0afd6eb4a9df8f7b6b6869a6a"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a5b5f30f0afd6eb4a9df8f7b6b6869a6a">start_of_simulation</a></td></tr>
<tr class="separator:a5b5f30f0afd6eb4a9df8f7b6b6869a6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ad58597d91c359dc772a970ee46ef2b8c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_sensor_callback.html">SensorCallback</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#ad58597d91c359dc772a970ee46ef2b8c">sensorCallback</a> = nullptr</td></tr>
<tr class="separator:ad58597d91c359dc772a970ee46ef2b8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab410d5296b53f11c14037a0639d905ae"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#ab410d5296b53f11c14037a0639d905ae">eventCounter</a></td></tr>
<tr class="separator:ab410d5296b53f11c14037a0639d905ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8ae36c7b7cb90c0b0d119e890489338"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#ab8ae36c7b7cb90c0b0d119e890489338">thisTime</a></td></tr>
<tr class="separator:ab8ae36c7b7cb90c0b0d119e890489338"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03ed20714879814e22e5641940e1c764"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a03ed20714879814e22e5641940e1c764">lastTime</a></td></tr>
<tr class="separator:a03ed20714879814e22e5641940e1c764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23904c4f9bc7b0ef8f39e9158da989a3"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a23904c4f9bc7b0ef8f39e9158da989a3">elapsedTime</a></td></tr>
<tr class="separator:a23904c4f9bc7b0ef8f39e9158da989a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b97782575a74a0d4bf7af50bad66cc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a29b97782575a74a0d4bf7af50bad66cc">firstTime</a></td></tr>
<tr class="separator:a29b97782575a74a0d4bf7af50bad66cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2de8ccb0d70b801574f962baae0a5cb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#ac2de8ccb0d70b801574f962baae0a5cb">secondTime</a></td></tr>
<tr class="separator:ac2de8ccb0d70b801574f962baae0a5cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1353e51d3e3db2f14a18afb14419c905"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a1353e51d3e3db2f14a18afb14419c905">duration</a></td></tr>
<tr class="separator:a1353e51d3e3db2f14a18afb14419c905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a884380525acb68dcbe88e55a48a37496"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a884380525acb68dcbe88e55a48a37496">timeOutStart</a></td></tr>
<tr class="separator:a884380525acb68dcbe88e55a48a37496"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e04d19d42170c73243dbcbbdedfdbc5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a5e04d19d42170c73243dbcbbdedfdbc5">dataRequestStart</a></td></tr>
<tr class="separator:a5e04d19d42170c73243dbcbbdedfdbc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2688bda3961332bcb0a80a63be6c0f5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#ac2688bda3961332bcb0a80a63be6c0f5">m</a></td></tr>
<tr class="separator:ac2688bda3961332bcb0a80a63be6c0f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73b3600a3b439a889ec2aefb6e9d406e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a73b3600a3b439a889ec2aefb6e9d406e">Signal</a></td></tr>
<tr class="separator:a73b3600a3b439a889ec2aefb6e9d406e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ba22ffafc2b42ae3cdff31d47525fcb"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a7ba22ffafc2b42ae3cdff31d47525fcb">sampleCounter</a></td></tr>
<tr class="separator:a7ba22ffafc2b42ae3cdff31d47525fcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e26abccf69140ef3749f95dccbb60aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a6e26abccf69140ef3749f95dccbb60aa">threshSetting</a></td></tr>
<tr class="separator:a6e26abccf69140ef3749f95dccbb60aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eeaf71d9a5f96e322b35081cf33f6e9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a4eeaf71d9a5f96e322b35081cf33f6e9">lastBeatTime</a></td></tr>
<tr class="separator:a4eeaf71d9a5f96e322b35081cf33f6e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a888dc3b1bf9bfb452c679bccb018a387"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a888dc3b1bf9bfb452c679bccb018a387">thresh</a> = 550</td></tr>
<tr class="separator:a888dc3b1bf9bfb452c679bccb018a387"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bf478f0366940dab46992b626eb6614"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a9bf478f0366940dab46992b626eb6614">P</a> = 512</td></tr>
<tr class="separator:a9bf478f0366940dab46992b626eb6614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad78b1837ae8402db8111c1125d62c39a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#ad78b1837ae8402db8111c1125d62c39a">T</a> = 512</td></tr>
<tr class="separator:ad78b1837ae8402db8111c1125d62c39a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a285de7aa2794270cbcf59144afd4746a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a285de7aa2794270cbcf59144afd4746a">firstBeat</a> = 1</td></tr>
<tr class="separator:a285de7aa2794270cbcf59144afd4746a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93f19ee800ea1f8b53d2bd9ca40374ab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a93f19ee800ea1f8b53d2bd9ca40374ab">secondBeat</a> = 0</td></tr>
<tr class="separator:a93f19ee800ea1f8b53d2bd9ca40374ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a820b614d51dc988ae64219c133406f47"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a820b614d51dc988ae64219c133406f47">QS</a> = 0</td></tr>
<tr class="separator:a820b614d51dc988ae64219c133406f47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab74c86309da203b069a991f8ca09ae0a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#ab74c86309da203b069a991f8ca09ae0a">rate</a> [10]</td></tr>
<tr class="separator:ab74c86309da203b069a991f8ca09ae0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54c96b55f91d091b3f11d9f4f5aaa34a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a54c96b55f91d091b3f11d9f4f5aaa34a">BPM</a> = 0</td></tr>
<tr class="separator:a54c96b55f91d091b3f11d9f4f5aaa34a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc1f4e1db59f4aa0dae5793c90740a84"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#abc1f4e1db59f4aa0dae5793c90740a84">IBI</a> = 600</td></tr>
<tr class="separator:abc1f4e1db59f4aa0dae5793c90740a84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa0853dc77e341fcaf2f19bf968b4b4c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#aaa0853dc77e341fcaf2f19bf968b4b4c">Pulse</a> = 0</td></tr>
<tr class="separator:aaa0853dc77e341fcaf2f19bf968b4b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69302d73a34d1ac10dbbd4d17e46493c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a69302d73a34d1ac10dbbd4d17e46493c">amp</a> = 100</td></tr>
<tr class="separator:a69302d73a34d1ac10dbbd4d17e46493c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ee1760c265760a66758a9845f179f53"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a0ee1760c265760a66758a9845f179f53">call_time_period</a> = 2000</td></tr>
<tr class="separator:a0ee1760c265760a66758a9845f179f53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d29fdf6804a4777668d957a8333f9c6"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a4d29fdf6804a4777668d957a8333f9c6">nightTime</a></td></tr>
<tr class="separator:a4d29fdf6804a4777668d957a8333f9c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9edffcd5c781e8942f8570f2bfe8232d"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a9edffcd5c781e8942f8570f2bfe8232d">wakeTime</a></td></tr>
<tr class="separator:a9edffcd5c781e8942f8570f2bfe8232d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4db914e2d73ffb3202aeb4fb3ffb3073"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a4db914e2d73ffb3202aeb4fb3ffb3073">bpmThreshold</a> = 77</td></tr>
<tr class="separator:a4db914e2d73ffb3202aeb4fb3ffb3073"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aaa261915f03ad857544fd629607ea6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a6aaa261915f03ad857544fd629607ea6">maybeSleep</a> = 0</td></tr>
<tr class="separator:a6aaa261915f03ad857544fd629607ea6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84505975df90206876681d89975faa52"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a84505975df90206876681d89975faa52">surelySleptTime</a> = 2</td></tr>
<tr class="separator:a84505975df90206876681d89975faa52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bf0ef8c1667be0f111419322d196077"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a1bf0ef8c1667be0f111419322d196077">sleep</a></td></tr>
<tr class="separator:a1bf0ef8c1667be0f111419322d196077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2a424f227d18421cf94c86d7eb031be"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#ad2a424f227d18421cf94c86d7eb031be">startOfProspectiveSleep</a></td></tr>
<tr class="separator:ad2a424f227d18421cf94c86d7eb031be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bb2773d68210a8d70742b118b84139f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a6bb2773d68210a8d70742b118b84139f">countdown</a> = 0</td></tr>
<tr class="separator:a6bb2773d68210a8d70742b118b84139f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9ea2c04c2ed4e36f2983ad441fa06d7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#ab9ea2c04c2ed4e36f2983ad441fa06d7">is_audio_playing</a> = 0</td></tr>
<tr class="separator:ab9ea2c04c2ed4e36f2983ad441fa06d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8ae50b1ee64129594c15f056856c35f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#ab8ae50b1ee64129594c15f056856c35f">play_audio_locally</a> = 1</td></tr>
<tr class="separator:ab8ae50b1ee64129594c15f056856c35f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeec2579eba748d10fa8532311b20e99"><td class="memItemLeft" align="right" valign="top">pid_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#aaeec2579eba748d10fa8532311b20e99">audio_pid</a></td></tr>
<tr class="separator:aaeec2579eba748d10fa8532311b20e99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a753287351e0381ca5d0d85df3078f762"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a753287351e0381ca5d0d85df3078f762">audio_name</a> [500]</td></tr>
<tr class="separator:a753287351e0381ca5d0d85df3078f762"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace1263828012e5e2c0011ca5ee2d4ad8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#ace1263828012e5e2c0011ca5ee2d4ad8">is_simulation</a> = 0</td></tr>
<tr class="separator:ace1263828012e5e2c0011ca5ee2d4ad8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af524226ec78b66a274851119f7b00a2f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#af524226ec78b66a274851119f7b00a2f">simulation_started</a> = 0</td></tr>
<tr class="separator:af524226ec78b66a274851119f7b00a2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05ab0c30d7e40d9045c21b0b115c392d"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sensor_timer.html#a05ab0c30d7e40d9045c21b0b115c392d">period_of_simulation</a> = 60*1</td></tr>
<tr class="separator:a05ab0c30d7e40d9045c21b0b115c392d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_sensor_timer.html">SensorTimer</a> is inherited from <a class="el" href="class_cpp_timer.html">CppTimer</a> which itself is a wrapper around timer present in time.h <a class="el" href="class_sensor_timer.html">SensorTimer</a> declares variables and functions to take readings from the hardware. Analyze the beats per minute to determine sleep and plays an audio in such a case. </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00031">31</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="afbfb91d0dc35bf217cb22f50d680b26e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbfb91d0dc35bf217cb22f50d680b26e">&#9670;&nbsp;</a></span>SensorTimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SensorTimer::SensorTimer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>l_bpmThreshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>l_simulation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>l_local_audio</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor function takes three arguments: bpm threshold: this sets the bpmThreshold variable is_simulation: this sets the is_simulation variable local_audio: this sets the play_audio_locally variable The function also intializes variables necessary for measurement of pulse and variables need to analyze bpm for sleep. </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00226">226</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                                                                                  {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="class_sensor_timer.html#ace1263828012e5e2c0011ca5ee2d4ad8">is_simulation</a> = l_simulation;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="class_sensor_timer.html#a4db914e2d73ffb3202aeb4fb3ffb3073">bpmThreshold</a> = l_bpmThreshold;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="class_sensor_timer.html#ab8ae50b1ee64129594c15f056856c35f">play_audio_locally</a> = l_local_audio;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="class_sensor_timer.html#a86849a9ab4dc5443cc93f96f00c29f6c">initPulseSensorVariables</a>();</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="class_sensor_timer.html#a042706c0c1ec146beb95e8f3947211fd">initializeVariablesForSleep</a>();</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        FILE *fptr;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">if</span> ((fptr = fopen(<span class="stringliteral">&quot;audio.txt&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>)) == NULL) {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            printf(<span class="stringliteral">&quot;Error! opening audio.txt&quot;</span>);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <a class="code" href="class_sensor_timer.html#ab8ae50b1ee64129594c15f056856c35f">play_audio_locally</a> = 0;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;              fscanf(fptr,<span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="class_sensor_timer.html#a753287351e0381ca5d0d85df3078f762">audio_name</a>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;              fclose(fptr);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;              <a class="code" href="class_sensor_timer.html#ab8ae50b1ee64129594c15f056856c35f">play_audio_locally</a> = 1;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div>
<div class="ttc" id="aclass_sensor_timer_html_a042706c0c1ec146beb95e8f3947211fd"><div class="ttname"><a href="class_sensor_timer.html#a042706c0c1ec146beb95e8f3947211fd">SensorTimer::initializeVariablesForSleep</a></div><div class="ttdeci">void initializeVariablesForSleep(void)</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00479">PulseSensor.h:479</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a4db914e2d73ffb3202aeb4fb3ffb3073"><div class="ttname"><a href="class_sensor_timer.html#a4db914e2d73ffb3202aeb4fb3ffb3073">SensorTimer::bpmThreshold</a></div><div class="ttdeci">int bpmThreshold</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00070">PulseSensor.h:70</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a753287351e0381ca5d0d85df3078f762"><div class="ttname"><a href="class_sensor_timer.html#a753287351e0381ca5d0d85df3078f762">SensorTimer::audio_name</a></div><div class="ttdeci">char audio_name[500]</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00121">PulseSensor.h:121</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a86849a9ab4dc5443cc93f96f00c29f6c"><div class="ttname"><a href="class_sensor_timer.html#a86849a9ab4dc5443cc93f96f00c29f6c">SensorTimer::initPulseSensorVariables</a></div><div class="ttdeci">void initPulseSensorVariables(void)</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00361">PulseSensor.h:361</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_ab8ae50b1ee64129594c15f056856c35f"><div class="ttname"><a href="class_sensor_timer.html#ab8ae50b1ee64129594c15f056856c35f">SensorTimer::play_audio_locally</a></div><div class="ttdeci">bool play_audio_locally</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00110">PulseSensor.h:110</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_ace1263828012e5e2c0011ca5ee2d4ad8"><div class="ttname"><a href="class_sensor_timer.html#ace1263828012e5e2c0011ca5ee2d4ad8">SensorTimer::is_simulation</a></div><div class="ttdeci">bool is_simulation</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00126">PulseSensor.h:126</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_pulse_sensor_8h_source.html#l00121">audio_name</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00070">bpmThreshold</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00479">initializeVariablesForSleep()</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00361">initPulseSensorVariables()</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00126">is_simulation</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00110">play_audio_locally</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_sensor_timer_afbfb91d0dc35bf217cb22f50d680b26e_cgraph.png" border="0" usemap="#aclass_sensor_timer_afbfb91d0dc35bf217cb22f50d680b26e_cgraph" alt=""/></div>
<map name="aclass_sensor_timer_afbfb91d0dc35bf217cb22f50d680b26e_cgraph" id="aclass_sensor_timer_afbfb91d0dc35bf217cb22f50d680b26e_cgraph">
<area shape="rect" title=" " alt="" coords="5,46,184,73"/>
<area shape="rect" href="class_sensor_timer.html#a042706c0c1ec146beb95e8f3947211fd" title=" " alt="" coords="232,5,436,47"/>
<area shape="rect" href="class_sensor_timer.html#a86849a9ab4dc5443cc93f96f00c29f6c" title=" " alt="" coords="237,71,431,112"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a36233c0d18fe087bbfcf3a37bdf6dcec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36233c0d18fe087bbfcf3a37bdf6dcec">&#9670;&nbsp;</a></span>analyzeBeatsForSleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SensorTimer::analyzeBeatsForSleep </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bpm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to analyze sleep based on beats per minute. if BPM is below a certain threshold mayBeSleep should be on if mayBeSleep is on for a while then return 1; </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00499">499</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;{</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordtype">bool</span> sleep_local = 0;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    time_t maybeSleepTime;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    time_t now = time(NULL);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="comment">//printf(&quot;BPM is %d, now is %d, nightTime is %d wakeTime is %d\n&quot;, BPM, now, nightTime, wakeTime);</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">if</span> (now &gt; <a class="code" href="class_sensor_timer.html#a4d29fdf6804a4777668d957a8333f9c6">nightTime</a> &amp;&amp; now &lt; <a class="code" href="class_sensor_timer.html#a9edffcd5c781e8942f8570f2bfe8232d">wakeTime</a>) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="keywordflow">if</span> (bpm &lt; <a class="code" href="class_sensor_timer.html#a4db914e2d73ffb3202aeb4fb3ffb3073">bpmThreshold</a> &amp;&amp; <a class="code" href="class_sensor_timer.html#a6aaa261915f03ad857544fd629607ea6">maybeSleep</a> == 0) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        printf(<span class="stringliteral">&quot;\n\n\nmaybesleep Positive\n\n\n&quot;</span>);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            <a class="code" href="class_sensor_timer.html#ad2a424f227d18421cf94c86d7eb031be">startOfProspectiveSleep</a> = time(NULL);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            <a class="code" href="class_sensor_timer.html#a6aaa261915f03ad857544fd629607ea6">maybeSleep</a> = 1;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordflow">if</span> (bpm &lt; <a class="code" href="class_sensor_timer.html#a4db914e2d73ffb3202aeb4fb3ffb3073">bpmThreshold</a> &amp;&amp; <a class="code" href="class_sensor_timer.html#a6aaa261915f03ad857544fd629607ea6">maybeSleep</a> == 1) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            maybeSleepTime = time(NULL) - <a class="code" href="class_sensor_timer.html#ad2a424f227d18421cf94c86d7eb031be">startOfProspectiveSleep</a>;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <a class="code" href="class_sensor_timer.html#a6bb2773d68210a8d70742b118b84139f">countdown</a> = <a class="code" href="class_sensor_timer.html#a84505975df90206876681d89975faa52">surelySleptTime</a> - maybeSleepTime;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            <span class="keywordflow">if</span> (maybeSleepTime &gt; <a class="code" href="class_sensor_timer.html#a84505975df90206876681d89975faa52">surelySleptTime</a>) {</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                sleep_local = 1;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        }</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordflow">if</span> (bpm &gt; <a class="code" href="class_sensor_timer.html#a4db914e2d73ffb3202aeb4fb3ffb3073">bpmThreshold</a> &amp;&amp; <a class="code" href="class_sensor_timer.html#a6aaa261915f03ad857544fd629607ea6">maybeSleep</a> == 1) {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            <a class="code" href="class_sensor_timer.html#a6aaa261915f03ad857544fd629607ea6">maybeSleep</a> = 0;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        }</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        sleep_local = 0;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordflow">return</span> sleep_local;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;}</div>
<div class="ttc" id="aclass_sensor_timer_html_a4d29fdf6804a4777668d957a8333f9c6"><div class="ttname"><a href="class_sensor_timer.html#a4d29fdf6804a4777668d957a8333f9c6">SensorTimer::nightTime</a></div><div class="ttdeci">time_t nightTime</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00059">PulseSensor.h:59</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a6aaa261915f03ad857544fd629607ea6"><div class="ttname"><a href="class_sensor_timer.html#a6aaa261915f03ad857544fd629607ea6">SensorTimer::maybeSleep</a></div><div class="ttdeci">bool maybeSleep</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00078">PulseSensor.h:78</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a6bb2773d68210a8d70742b118b84139f"><div class="ttname"><a href="class_sensor_timer.html#a6bb2773d68210a8d70742b118b84139f">SensorTimer::countdown</a></div><div class="ttdeci">int countdown</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00097">PulseSensor.h:97</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a84505975df90206876681d89975faa52"><div class="ttname"><a href="class_sensor_timer.html#a84505975df90206876681d89975faa52">SensorTimer::surelySleptTime</a></div><div class="ttdeci">time_t surelySleptTime</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00084">PulseSensor.h:84</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a9edffcd5c781e8942f8570f2bfe8232d"><div class="ttname"><a href="class_sensor_timer.html#a9edffcd5c781e8942f8570f2bfe8232d">SensorTimer::wakeTime</a></div><div class="ttdeci">time_t wakeTime</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00065">PulseSensor.h:65</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_ad2a424f227d18421cf94c86d7eb031be"><div class="ttname"><a href="class_sensor_timer.html#ad2a424f227d18421cf94c86d7eb031be">SensorTimer::startOfProspectiveSleep</a></div><div class="ttdeci">time_t startOfProspectiveSleep</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00095">PulseSensor.h:95</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_pulse_sensor_8h_source.html#l00070">bpmThreshold</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00097">countdown</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00078">maybeSleep</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00059">nightTime</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00095">startOfProspectiveSleep</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00084">surelySleptTime</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00065">wakeTime</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00319">timerEvent()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_sensor_timer_a36233c0d18fe087bbfcf3a37bdf6dcec_icgraph.png" border="0" usemap="#aclass_sensor_timer_a36233c0d18fe087bbfcf3a37bdf6dcec_icgraph" alt=""/></div>
<map name="aclass_sensor_timer_a36233c0d18fe087bbfcf3a37bdf6dcec_icgraph" id="aclass_sensor_timer_a36233c0d18fe087bbfcf3a37bdf6dcec_icgraph">
<area shape="rect" title=" " alt="" coords="220,5,403,47"/>
<area shape="rect" href="class_sensor_timer.html#a6d15ff3f37f39e6baa43cf22a48263f2" title=" " alt="" coords="5,13,172,39"/>
</map>
</div>

</div>
</div>
<a id="adb180c4dab8ccaa5eae6870aa851f76a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb180c4dab8ccaa5eae6870aa851f76a">&#9670;&nbsp;</a></span>audioprocess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SensorTimer::audioprocess </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function monitors the sleep variable and decides if an audio must be played. It also keeps track of the pids of the processes created to play the audio. </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00261">261</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                              {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="class_sensor_timer.html#a1bf0ef8c1667be0f111419322d196077">sleep</a> == 1 &amp;&amp; <a class="code" href="class_sensor_timer.html#ab9ea2c04c2ed4e36f2983ad441fa06d7">is_audio_playing</a> == 0 &amp;&amp; <a class="code" href="class_sensor_timer.html#ab8ae50b1ee64129594c15f056856c35f">play_audio_locally</a>){</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;          <a class="code" href="class_sensor_timer.html#ab9ea2c04c2ed4e36f2983ad441fa06d7">is_audio_playing</a> = 1;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;          printf(<span class="stringliteral">&quot;\n\n\nSleep is positive. Playing Audio.\n\n\n&quot;</span>);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;              <a class="code" href="class_sensor_timer.html#aaeec2579eba748d10fa8532311b20e99">audio_pid</a> = <a class="code" href="class_sensor_timer.html#a03ec27b4291d6a2bdd84822415efe680">play_audio</a>(<a class="code" href="class_sensor_timer.html#a753287351e0381ca5d0d85df3078f762">audio_name</a>);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;              <span class="comment">/*</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">               * If child process then the audio is already ended, pid must kill itself safely</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">               */</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;              <span class="keywordflow">if</span>(<a class="code" href="class_sensor_timer.html#aaeec2579eba748d10fa8532311b20e99">audio_pid</a> == 0){</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                <span class="keyword">raise</span>(SIGKILL);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;              }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">             * If parent process then continue and put the is_audio_playing flag to be true</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                <a class="code" href="class_sensor_timer.html#ab9ea2c04c2ed4e36f2983ad441fa06d7">is_audio_playing</a> = 1;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            printf(<span class="stringliteral">&quot;\n\n\nAudio pid is %d\n\n\n&quot;</span>, <a class="code" href="class_sensor_timer.html#aaeec2579eba748d10fa8532311b20e99">audio_pid</a>);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;              }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="class_sensor_timer.html#ab9ea2c04c2ed4e36f2983ad441fa06d7">is_audio_playing</a> == 1 &amp;&amp; <a class="code" href="class_sensor_timer.html#a1bf0ef8c1667be0f111419322d196077">sleep</a> == 0 &amp;&amp; <a class="code" href="class_sensor_timer.html#ab8ae50b1ee64129594c15f056856c35f">play_audio_locally</a> &amp;&amp; <a class="code" href="class_sensor_timer.html#aaeec2579eba748d10fa8532311b20e99">audio_pid</a> &gt; 0){</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;              <span class="comment">/*</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">               * When the person wakes up again kill the pid which runs the audio</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">               */</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            printf(<span class="stringliteral">&quot;\n\n\n Killing the Audio as maybe the person has woken up\n\n\n&quot;</span>);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                <a class="code" href="class_sensor_timer.html#a26f5ab50413256c6b9523b8cbe5f6a84">kill_the_pid</a>(<a class="code" href="class_sensor_timer.html#aaeec2579eba748d10fa8532311b20e99">audio_pid</a>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                <a class="code" href="class_sensor_timer.html#ab9ea2c04c2ed4e36f2983ad441fa06d7">is_audio_playing</a> = 0;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;              </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="class_sensor_timer.html#ab9ea2c04c2ed4e36f2983ad441fa06d7">is_audio_playing</a> == 1 &amp;&amp; <a class="code" href="class_sensor_timer.html#a1bf0ef8c1667be0f111419322d196077">sleep</a> == 1 &amp;&amp; <a class="code" href="class_sensor_timer.html#aaeec2579eba748d10fa8532311b20e99">audio_pid</a> &gt; 0 &amp;&amp; kill(<a class="code" href="class_sensor_timer.html#aaeec2579eba748d10fa8532311b20e99">audio_pid</a>, 0) &lt; 0){</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="comment">//the audio has ended.</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <a class="code" href="class_sensor_timer.html#ab9ea2c04c2ed4e36f2983ad441fa06d7">is_audio_playing</a> == 0;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;}</div>
<div class="ttc" id="aclass_sensor_timer_html_a03ec27b4291d6a2bdd84822415efe680"><div class="ttname"><a href="class_sensor_timer.html#a03ec27b4291d6a2bdd84822415efe680">SensorTimer::play_audio</a></div><div class="ttdeci">pid_t play_audio(char *audio_name)</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00292">PulseSensor.h:292</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a1bf0ef8c1667be0f111419322d196077"><div class="ttname"><a href="class_sensor_timer.html#a1bf0ef8c1667be0f111419322d196077">SensorTimer::sleep</a></div><div class="ttdeci">bool sleep</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00090">PulseSensor.h:90</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a26f5ab50413256c6b9523b8cbe5f6a84"><div class="ttname"><a href="class_sensor_timer.html#a26f5ab50413256c6b9523b8cbe5f6a84">SensorTimer::kill_the_pid</a></div><div class="ttdeci">void kill_the_pid(pid_t x)</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00304">PulseSensor.h:304</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_aaeec2579eba748d10fa8532311b20e99"><div class="ttname"><a href="class_sensor_timer.html#aaeec2579eba748d10fa8532311b20e99">SensorTimer::audio_pid</a></div><div class="ttdeci">pid_t audio_pid</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00116">PulseSensor.h:116</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_ab9ea2c04c2ed4e36f2983ad441fa06d7"><div class="ttname"><a href="class_sensor_timer.html#ab9ea2c04c2ed4e36f2983ad441fa06d7">SensorTimer::is_audio_playing</a></div><div class="ttdeci">bool is_audio_playing</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00104">PulseSensor.h:104</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_pulse_sensor_8h_source.html#l00121">audio_name</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00116">audio_pid</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00104">is_audio_playing</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00304">kill_the_pid()</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00292">play_audio()</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00110">play_audio_locally</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00090">sleep</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00319">timerEvent()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_sensor_timer_adb180c4dab8ccaa5eae6870aa851f76a_cgraph.png" border="0" usemap="#aclass_sensor_timer_adb180c4dab8ccaa5eae6870aa851f76a_cgraph" alt=""/></div>
<map name="aclass_sensor_timer_adb180c4dab8ccaa5eae6870aa851f76a_cgraph" id="aclass_sensor_timer_adb180c4dab8ccaa5eae6870aa851f76a_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,187,57"/>
<area shape="rect" href="class_sensor_timer.html#a26f5ab50413256c6b9523b8cbe5f6a84" title=" " alt="" coords="235,5,404,32"/>
<area shape="rect" href="class_sensor_timer.html#a03ec27b4291d6a2bdd84822415efe680" title=" " alt="" coords="236,56,403,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_sensor_timer_adb180c4dab8ccaa5eae6870aa851f76a_icgraph.png" border="0" usemap="#aclass_sensor_timer_adb180c4dab8ccaa5eae6870aa851f76a_icgraph" alt=""/></div>
<map name="aclass_sensor_timer_adb180c4dab8ccaa5eae6870aa851f76a_icgraph" id="aclass_sensor_timer_adb180c4dab8ccaa5eae6870aa851f76a_icgraph">
<area shape="rect" title=" " alt="" coords="220,5,401,32"/>
<area shape="rect" href="class_sensor_timer.html#a6d15ff3f37f39e6baa43cf22a48263f2" title=" " alt="" coords="5,5,172,32"/>
</map>
</div>

</div>
</div>
<a id="ae70a0da132083a8135a17903baa68059"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae70a0da132083a8135a17903baa68059">&#9670;&nbsp;</a></span>beatsPerMinuteSimulation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SensorTimer::beatsPerMinuteSimulation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Simulates bpm values as a triangular wave. </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00335">335</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                                          {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="class_sensor_timer.html#af524226ec78b66a274851119f7b00a2f">simulation_started</a> == 0){</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <a class="code" href="class_sensor_timer.html#a5b5f30f0afd6eb4a9df8f7b6b6869a6a">start_of_simulation</a> = time(NULL);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <a class="code" href="class_sensor_timer.html#af524226ec78b66a274851119f7b00a2f">simulation_started</a> = 1;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordtype">int</span> begin_bpm = 80;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordtype">int</span> end_bpm = 60;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="comment">//time_t period_of_simulation = 60*1; //5 minute duration</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordtype">float</span> slope = (float)(end_bpm - begin_bpm)/(float)(<a class="code" href="class_sensor_timer.html#a05ab0c30d7e40d9045c21b0b115c392d">period_of_simulation</a>/2);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordtype">int</span> t = (time(NULL) - <a class="code" href="class_sensor_timer.html#a5b5f30f0afd6eb4a9df8f7b6b6869a6a">start_of_simulation</a>)%<a class="code" href="class_sensor_timer.html#a05ab0c30d7e40d9045c21b0b115c392d">period_of_simulation</a>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="comment">//Downwards</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordtype">int</span> sim_bpm = begin_bpm;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="comment">//printf(&quot;slope is %f\n&quot;,slope);</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">if</span>(t &lt; <a class="code" href="class_sensor_timer.html#a05ab0c30d7e40d9045c21b0b115c392d">period_of_simulation</a>/2)</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        sim_bpm = (int)(slope*t) + begin_bpm;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="comment">//Upwards</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(t &gt;= <a class="code" href="class_sensor_timer.html#a05ab0c30d7e40d9045c21b0b115c392d">period_of_simulation</a>/2 &amp;&amp; t &lt;= <a class="code" href="class_sensor_timer.html#a05ab0c30d7e40d9045c21b0b115c392d">period_of_simulation</a>){</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        t = t - (<a class="code" href="class_sensor_timer.html#a05ab0c30d7e40d9045c21b0b115c392d">period_of_simulation</a>/2);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        sim_bpm = -1 * (int)(slope*t) + end_bpm;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="class_sensor_timer.html#a54c96b55f91d091b3f11d9f4f5aaa34a">BPM</a> = sim_bpm;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;}</div>
<div class="ttc" id="aclass_sensor_timer_html_a05ab0c30d7e40d9045c21b0b115c392d"><div class="ttname"><a href="class_sensor_timer.html#a05ab0c30d7e40d9045c21b0b115c392d">SensorTimer::period_of_simulation</a></div><div class="ttdeci">time_t period_of_simulation</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00136">PulseSensor.h:136</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a54c96b55f91d091b3f11d9f4f5aaa34a"><div class="ttname"><a href="class_sensor_timer.html#a54c96b55f91d091b3f11d9f4f5aaa34a">SensorTimer::BPM</a></div><div class="ttdeci">int BPM</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00047">PulseSensor.h:47</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a5b5f30f0afd6eb4a9df8f7b6b6869a6a"><div class="ttname"><a href="class_sensor_timer.html#a5b5f30f0afd6eb4a9df8f7b6b6869a6a">SensorTimer::start_of_simulation</a></div><div class="ttdeci">time_t start_of_simulation</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00201">PulseSensor.h:201</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_af524226ec78b66a274851119f7b00a2f"><div class="ttname"><a href="class_sensor_timer.html#af524226ec78b66a274851119f7b00a2f">SensorTimer::simulation_started</a></div><div class="ttdeci">bool simulation_started</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00131">PulseSensor.h:131</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_pulse_sensor_8h_source.html#l00047">BPM</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00136">period_of_simulation</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00131">simulation_started</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00201">start_of_simulation</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00319">timerEvent()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_sensor_timer_ae70a0da132083a8135a17903baa68059_icgraph.png" border="0" usemap="#aclass_sensor_timer_ae70a0da132083a8135a17903baa68059_icgraph" alt=""/></div>
<map name="aclass_sensor_timer_ae70a0da132083a8135a17903baa68059_icgraph" id="aclass_sensor_timer_ae70a0da132083a8135a17903baa68059_icgraph">
<area shape="rect" title=" " alt="" coords="220,5,415,47"/>
<area shape="rect" href="class_sensor_timer.html#a6d15ff3f37f39e6baa43cf22a48263f2" title=" " alt="" coords="5,13,172,39"/>
</map>
</div>

</div>
</div>
<a id="a54d4119db865d1fd2bbff0fc8da67482"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54d4119db865d1fd2bbff0fc8da67482">&#9670;&nbsp;</a></span>getPulse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SensorTimer::getPulse </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function gets the Signal from the DAC and calculates bpm and othe parameters from the Signal.</p>
<p><a href="https://github.com/WorldFamousElectronics/Raspberry_Pi">This function is taken from the hardware vendor's github repo.</a> </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00391">391</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                              {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <a class="code" href="class_sensor_timer.html#ab8ae36c7b7cb90c0b0d119e890489338">thisTime</a> = micros();</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <a class="code" href="class_sensor_timer.html#a73b3600a3b439a889ec2aefb6e9d406e">Signal</a> = analogRead(<a class="code" href="_pulse_sensor_8h.html#a79bcfb6bde984f42d1124b068a509af7">BASE</a>);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <a class="code" href="class_sensor_timer.html#a23904c4f9bc7b0ef8f39e9158da989a3">elapsedTime</a> = <a class="code" href="class_sensor_timer.html#ab8ae36c7b7cb90c0b0d119e890489338">thisTime</a> - <a class="code" href="class_sensor_timer.html#a03ed20714879814e22e5641940e1c764">lastTime</a>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <a class="code" href="class_sensor_timer.html#a03ed20714879814e22e5641940e1c764">lastTime</a> = <a class="code" href="class_sensor_timer.html#ab8ae36c7b7cb90c0b0d119e890489338">thisTime</a>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160; </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      <a class="code" href="class_sensor_timer.html#a7ba22ffafc2b42ae3cdff31d47525fcb">sampleCounter</a> += 2;         <span class="comment">// keep track of the time in mS with this variable</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="keywordtype">int</span> N = <a class="code" href="class_sensor_timer.html#a7ba22ffafc2b42ae3cdff31d47525fcb">sampleCounter</a> - <a class="code" href="class_sensor_timer.html#a4eeaf71d9a5f96e322b35081cf33f6e9">lastBeatTime</a>;      <span class="comment">// monitor the time since the last beat to avoid noise</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="comment">//  find the peak and trough of the pulse wave</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="keywordflow">if</span> (Signal &lt; thresh &amp;&amp; N &gt; (<a class="code" href="class_sensor_timer.html#abc1f4e1db59f4aa0dae5793c90740a84">IBI</a> / 5) * 3) { <span class="comment">// avoid dichrotic noise by waiting 3/5 of last IBI</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_sensor_timer.html#a73b3600a3b439a889ec2aefb6e9d406e">Signal</a> &lt; <a class="code" href="class_sensor_timer.html#ad78b1837ae8402db8111c1125d62c39a">T</a>) {                        <span class="comment">// T is the trough</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;          <a class="code" href="class_sensor_timer.html#ad78b1837ae8402db8111c1125d62c39a">T</a> = <a class="code" href="class_sensor_timer.html#a73b3600a3b439a889ec2aefb6e9d406e">Signal</a>;                            <span class="comment">// keep track of lowest point in pulse wave</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="class_sensor_timer.html#a73b3600a3b439a889ec2aefb6e9d406e">Signal</a> &gt; <a class="code" href="class_sensor_timer.html#a888dc3b1bf9bfb452c679bccb018a387">thresh</a> &amp;&amp; <a class="code" href="class_sensor_timer.html#a73b3600a3b439a889ec2aefb6e9d406e">Signal</a> &gt; <a class="code" href="class_sensor_timer.html#a9bf478f0366940dab46992b626eb6614">P</a>) {       <span class="comment">// thresh condition helps avoid noise</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <a class="code" href="class_sensor_timer.html#a9bf478f0366940dab46992b626eb6614">P</a> = <a class="code" href="class_sensor_timer.html#a73b3600a3b439a889ec2aefb6e9d406e">Signal</a>;                              <span class="comment">// P is the peak</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      }                                          <span class="comment">// keep track of highest point in pulse wave</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <span class="comment">//  NOW IT&#39;S TIME TO LOOK FOR THE HEART BEAT</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <span class="comment">// signal surges up in value every time there is a pulse</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <span class="keywordflow">if</span> (N &gt; 250) {                             <span class="comment">// avoid high frequency noise</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">if</span> ( (<a class="code" href="class_sensor_timer.html#a73b3600a3b439a889ec2aefb6e9d406e">Signal</a> &gt; <a class="code" href="class_sensor_timer.html#a888dc3b1bf9bfb452c679bccb018a387">thresh</a>) &amp;&amp; (<a class="code" href="class_sensor_timer.html#aaa0853dc77e341fcaf2f19bf968b4b4c">Pulse</a> == 0) &amp;&amp; (N &gt; ((<a class="code" href="class_sensor_timer.html#abc1f4e1db59f4aa0dae5793c90740a84">IBI</a> / 5) * 3)) ) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;          <a class="code" href="class_sensor_timer.html#aaa0853dc77e341fcaf2f19bf968b4b4c">Pulse</a> = 1;                             <span class="comment">// set the Pulse flag when we think there is a pulse</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;          <a class="code" href="class_sensor_timer.html#abc1f4e1db59f4aa0dae5793c90740a84">IBI</a> = <a class="code" href="class_sensor_timer.html#a7ba22ffafc2b42ae3cdff31d47525fcb">sampleCounter</a> - <a class="code" href="class_sensor_timer.html#a4eeaf71d9a5f96e322b35081cf33f6e9">lastBeatTime</a>;    <span class="comment">// measure time between beats in mS</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;          <a class="code" href="class_sensor_timer.html#a4eeaf71d9a5f96e322b35081cf33f6e9">lastBeatTime</a> = <a class="code" href="class_sensor_timer.html#a7ba22ffafc2b42ae3cdff31d47525fcb">sampleCounter</a>;          <span class="comment">// keep track of time for next pulse</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="class_sensor_timer.html#a93f19ee800ea1f8b53d2bd9ca40374ab">secondBeat</a>) {                      <span class="comment">// if this is the second beat, if secondBeat == TRUE</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            <a class="code" href="class_sensor_timer.html#a93f19ee800ea1f8b53d2bd9ca40374ab">secondBeat</a> = 0;                      <span class="comment">// clear secondBeat flag</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt;= 9; i++) {       <span class="comment">// seed the running total to get a realisitic BPM at startup</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;              <a class="code" href="class_sensor_timer.html#ab74c86309da203b069a991f8ca09ae0a">rate</a>[i] = <a class="code" href="class_sensor_timer.html#abc1f4e1db59f4aa0dae5793c90740a84">IBI</a>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;          }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="class_sensor_timer.html#a285de7aa2794270cbcf59144afd4746a">firstBeat</a>) {                       <span class="comment">// if it&#39;s the first time we found a beat, if firstBeat == TRUE</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <a class="code" href="class_sensor_timer.html#a285de7aa2794270cbcf59144afd4746a">firstBeat</a> = 0;                       <span class="comment">// clear firstBeat flag</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <a class="code" href="class_sensor_timer.html#a93f19ee800ea1f8b53d2bd9ca40374ab">secondBeat</a> = 1;                      <span class="comment">// set the second beat flag</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <span class="comment">// IBI value is unreliable so discard it</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;          }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;          <span class="comment">// keep a running total of the last 10 IBI values</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;          <span class="keywordtype">int</span> runningTotal = 0;                  <span class="comment">// clear the runningTotal variable</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt;= 8; i++) {          <span class="comment">// shift data in the rate array</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <a class="code" href="class_sensor_timer.html#ab74c86309da203b069a991f8ca09ae0a">rate</a>[i] = <a class="code" href="class_sensor_timer.html#ab74c86309da203b069a991f8ca09ae0a">rate</a>[i + 1];                <span class="comment">// and drop the oldest IBI value</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            runningTotal += <a class="code" href="class_sensor_timer.html#ab74c86309da203b069a991f8ca09ae0a">rate</a>[i];              <span class="comment">// add up the 9 oldest IBI values</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;          }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;          <a class="code" href="class_sensor_timer.html#ab74c86309da203b069a991f8ca09ae0a">rate</a>[9] = <a class="code" href="class_sensor_timer.html#abc1f4e1db59f4aa0dae5793c90740a84">IBI</a>;                          <span class="comment">// add the latest IBI to the rate array</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;          runningTotal += <a class="code" href="class_sensor_timer.html#ab74c86309da203b069a991f8ca09ae0a">rate</a>[9];                <span class="comment">// add the latest IBI to runningTotal</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;          runningTotal /= 10;                     <span class="comment">// average the last 10 IBI values</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;          <a class="code" href="class_sensor_timer.html#a54c96b55f91d091b3f11d9f4f5aaa34a">BPM</a> = 60000 / runningTotal;             <span class="comment">// how many beats can fit into a minute? that&#39;s BPM!</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;          <a class="code" href="class_sensor_timer.html#a820b614d51dc988ae64219c133406f47">QS</a> = 1;                              <span class="comment">// set Quantified Self flag (we detected a beat)</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;          <span class="comment">//fadeLevel = MAX_FADE_LEVEL;             // If we&#39;re fading, re-light that LED.</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="class_sensor_timer.html#a73b3600a3b439a889ec2aefb6e9d406e">Signal</a> &lt; <a class="code" href="class_sensor_timer.html#a888dc3b1bf9bfb452c679bccb018a387">thresh</a> &amp;&amp; <a class="code" href="class_sensor_timer.html#aaa0853dc77e341fcaf2f19bf968b4b4c">Pulse</a> == 1) {  <span class="comment">// when the values are going down, the beat is over</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <a class="code" href="class_sensor_timer.html#aaa0853dc77e341fcaf2f19bf968b4b4c">Pulse</a> = 0;                         <span class="comment">// reset the Pulse flag so we can do it again</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <a class="code" href="class_sensor_timer.html#a69302d73a34d1ac10dbbd4d17e46493c">amp</a> = <a class="code" href="class_sensor_timer.html#a9bf478f0366940dab46992b626eb6614">P</a> - <a class="code" href="class_sensor_timer.html#ad78b1837ae8402db8111c1125d62c39a">T</a>;                           <span class="comment">// get amplitude of the pulse wave</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <a class="code" href="class_sensor_timer.html#a888dc3b1bf9bfb452c679bccb018a387">thresh</a> = <a class="code" href="class_sensor_timer.html#a69302d73a34d1ac10dbbd4d17e46493c">amp</a> / 2 + <a class="code" href="class_sensor_timer.html#ad78b1837ae8402db8111c1125d62c39a">T</a>;                  <span class="comment">// set thresh at 50% of the amplitude</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <a class="code" href="class_sensor_timer.html#a9bf478f0366940dab46992b626eb6614">P</a> = <a class="code" href="class_sensor_timer.html#a888dc3b1bf9bfb452c679bccb018a387">thresh</a>;                            <span class="comment">// reset these for next time</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <a class="code" href="class_sensor_timer.html#ad78b1837ae8402db8111c1125d62c39a">T</a> = <a class="code" href="class_sensor_timer.html#a888dc3b1bf9bfb452c679bccb018a387">thresh</a>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="keywordflow">if</span> (N &gt; 2500) {                          <span class="comment">// if 2.5 seconds go by without a beat</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <a class="code" href="class_sensor_timer.html#a888dc3b1bf9bfb452c679bccb018a387">thresh</a> = <a class="code" href="class_sensor_timer.html#a6e26abccf69140ef3749f95dccbb60aa">threshSetting</a>;                <span class="comment">// set thresh default</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <a class="code" href="class_sensor_timer.html#a9bf478f0366940dab46992b626eb6614">P</a> = 512;                               <span class="comment">// set P default</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <a class="code" href="class_sensor_timer.html#ad78b1837ae8402db8111c1125d62c39a">T</a> = 512;                               <span class="comment">// set T default</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <a class="code" href="class_sensor_timer.html#a4eeaf71d9a5f96e322b35081cf33f6e9">lastBeatTime</a> = <a class="code" href="class_sensor_timer.html#a7ba22ffafc2b42ae3cdff31d47525fcb">sampleCounter</a>;          <span class="comment">// bring the lastBeatTime up to date</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <a class="code" href="class_sensor_timer.html#a285de7aa2794270cbcf59144afd4746a">firstBeat</a> = 1;                      <span class="comment">// set these to avoid noise</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <a class="code" href="class_sensor_timer.html#a93f19ee800ea1f8b53d2bd9ca40374ab">secondBeat</a> = 0;                    <span class="comment">// when we get the heartbeat back</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <a class="code" href="class_sensor_timer.html#a820b614d51dc988ae64219c133406f47">QS</a> = 0;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <a class="code" href="class_sensor_timer.html#a54c96b55f91d091b3f11d9f4f5aaa34a">BPM</a> = 0;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <a class="code" href="class_sensor_timer.html#abc1f4e1db59f4aa0dae5793c90740a84">IBI</a> = 600;                  <span class="comment">// 600ms per beat = 100 Beats Per Minute (BPM)</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <a class="code" href="class_sensor_timer.html#aaa0853dc77e341fcaf2f19bf968b4b4c">Pulse</a> = 0;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <a class="code" href="class_sensor_timer.html#a69302d73a34d1ac10dbbd4d17e46493c">amp</a> = 100;                  <span class="comment">// beat amplitude 1/10 of input range.</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      }</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <a class="code" href="class_sensor_timer.html#a1353e51d3e3db2f14a18afb14419c905">duration</a> = micros()-<a class="code" href="class_sensor_timer.html#ab8ae36c7b7cb90c0b0d119e890489338">thisTime</a>;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div>
<div class="ttc" id="a_pulse_sensor_8h_html_a79bcfb6bde984f42d1124b068a509af7"><div class="ttname"><a href="_pulse_sensor_8h.html#a79bcfb6bde984f42d1124b068a509af7">BASE</a></div><div class="ttdeci">#define BASE</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00007">PulseSensor.h:7</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a03ed20714879814e22e5641940e1c764"><div class="ttname"><a href="class_sensor_timer.html#a03ed20714879814e22e5641940e1c764">SensorTimer::lastTime</a></div><div class="ttdeci">unsigned int lastTime</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00034">PulseSensor.h:34</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a1353e51d3e3db2f14a18afb14419c905"><div class="ttname"><a href="class_sensor_timer.html#a1353e51d3e3db2f14a18afb14419c905">SensorTimer::duration</a></div><div class="ttdeci">int duration</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00035">PulseSensor.h:35</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a23904c4f9bc7b0ef8f39e9158da989a3"><div class="ttname"><a href="class_sensor_timer.html#a23904c4f9bc7b0ef8f39e9158da989a3">SensorTimer::elapsedTime</a></div><div class="ttdeci">unsigned int elapsedTime</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00034">PulseSensor.h:34</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a285de7aa2794270cbcf59144afd4746a"><div class="ttname"><a href="class_sensor_timer.html#a285de7aa2794270cbcf59144afd4746a">SensorTimer::firstBeat</a></div><div class="ttdeci">int firstBeat</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00043">PulseSensor.h:43</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a4eeaf71d9a5f96e322b35081cf33f6e9"><div class="ttname"><a href="class_sensor_timer.html#a4eeaf71d9a5f96e322b35081cf33f6e9">SensorTimer::lastBeatTime</a></div><div class="ttdeci">int lastBeatTime</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00039">PulseSensor.h:39</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a69302d73a34d1ac10dbbd4d17e46493c"><div class="ttname"><a href="class_sensor_timer.html#a69302d73a34d1ac10dbbd4d17e46493c">SensorTimer::amp</a></div><div class="ttdeci">int amp</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00050">PulseSensor.h:50</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a6e26abccf69140ef3749f95dccbb60aa"><div class="ttname"><a href="class_sensor_timer.html#a6e26abccf69140ef3749f95dccbb60aa">SensorTimer::threshSetting</a></div><div class="ttdeci">int threshSetting</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00039">PulseSensor.h:39</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a73b3600a3b439a889ec2aefb6e9d406e"><div class="ttname"><a href="class_sensor_timer.html#a73b3600a3b439a889ec2aefb6e9d406e">SensorTimer::Signal</a></div><div class="ttdeci">int Signal</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00037">PulseSensor.h:37</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a7ba22ffafc2b42ae3cdff31d47525fcb"><div class="ttname"><a href="class_sensor_timer.html#a7ba22ffafc2b42ae3cdff31d47525fcb">SensorTimer::sampleCounter</a></div><div class="ttdeci">unsigned int sampleCounter</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00038">PulseSensor.h:38</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a820b614d51dc988ae64219c133406f47"><div class="ttname"><a href="class_sensor_timer.html#a820b614d51dc988ae64219c133406f47">SensorTimer::QS</a></div><div class="ttdeci">int QS</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00045">PulseSensor.h:45</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a888dc3b1bf9bfb452c679bccb018a387"><div class="ttname"><a href="class_sensor_timer.html#a888dc3b1bf9bfb452c679bccb018a387">SensorTimer::thresh</a></div><div class="ttdeci">int thresh</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00040">PulseSensor.h:40</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a93f19ee800ea1f8b53d2bd9ca40374ab"><div class="ttname"><a href="class_sensor_timer.html#a93f19ee800ea1f8b53d2bd9ca40374ab">SensorTimer::secondBeat</a></div><div class="ttdeci">int secondBeat</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00044">PulseSensor.h:44</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a9bf478f0366940dab46992b626eb6614"><div class="ttname"><a href="class_sensor_timer.html#a9bf478f0366940dab46992b626eb6614">SensorTimer::P</a></div><div class="ttdeci">int P</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00041">PulseSensor.h:41</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_aaa0853dc77e341fcaf2f19bf968b4b4c"><div class="ttname"><a href="class_sensor_timer.html#aaa0853dc77e341fcaf2f19bf968b4b4c">SensorTimer::Pulse</a></div><div class="ttdeci">int Pulse</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00049">PulseSensor.h:49</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_ab74c86309da203b069a991f8ca09ae0a"><div class="ttname"><a href="class_sensor_timer.html#ab74c86309da203b069a991f8ca09ae0a">SensorTimer::rate</a></div><div class="ttdeci">int rate[10]</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00046">PulseSensor.h:46</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_ab8ae36c7b7cb90c0b0d119e890489338"><div class="ttname"><a href="class_sensor_timer.html#ab8ae36c7b7cb90c0b0d119e890489338">SensorTimer::thisTime</a></div><div class="ttdeci">unsigned int thisTime</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00034">PulseSensor.h:34</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_abc1f4e1db59f4aa0dae5793c90740a84"><div class="ttname"><a href="class_sensor_timer.html#abc1f4e1db59f4aa0dae5793c90740a84">SensorTimer::IBI</a></div><div class="ttdeci">int IBI</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00048">PulseSensor.h:48</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_ad78b1837ae8402db8111c1125d62c39a"><div class="ttname"><a href="class_sensor_timer.html#ad78b1837ae8402db8111c1125d62c39a">SensorTimer::T</a></div><div class="ttdeci">int T</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00042">PulseSensor.h:42</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_pulse_sensor_8h_source.html#l00050">amp</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00007">BASE</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00047">BPM</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00035">duration</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00034">elapsedTime</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00043">firstBeat</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00048">IBI</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00039">lastBeatTime</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00034">lastTime</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00041">P</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00049">Pulse</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00045">QS</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00046">rate</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00038">sampleCounter</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00044">secondBeat</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00037">Signal</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00042">T</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00034">thisTime</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00040">thresh</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00039">threshSetting</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00319">timerEvent()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_sensor_timer_a54d4119db865d1fd2bbff0fc8da67482_icgraph.png" border="0" usemap="#aclass_sensor_timer_a54d4119db865d1fd2bbff0fc8da67482_icgraph" alt=""/></div>
<map name="aclass_sensor_timer_a54d4119db865d1fd2bbff0fc8da67482_icgraph" id="aclass_sensor_timer_a54d4119db865d1fd2bbff0fc8da67482_icgraph">
<area shape="rect" title=" " alt="" coords="220,5,375,32"/>
<area shape="rect" href="class_sensor_timer.html#a6d15ff3f37f39e6baa43cf22a48263f2" title=" " alt="" coords="5,5,172,32"/>
</map>
</div>

</div>
</div>
<a id="a042706c0c1ec146beb95e8f3947211fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a042706c0c1ec146beb95e8f3947211fd">&#9670;&nbsp;</a></span>initializeVariablesForSleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SensorTimer::initializeVariablesForSleep </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function initializes the variables for sleep detection. </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00479">479</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                                                 {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    time_t current_time = time(NULL);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keyword">struct </span>tm *time_split = localtime(&amp;current_time);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keyword">struct </span>tm night_time_split = {0, 0, 22, time_split-&gt;tm_mday, </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        time_split-&gt;tm_mon, time_split-&gt;tm_year, time_split-&gt;tm_wday, time_split-&gt;tm_yday, time_split-&gt;tm_isdst};</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <a class="code" href="class_sensor_timer.html#a4d29fdf6804a4777668d957a8333f9c6">nightTime</a> = mktime(&amp;night_time_split);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="class_sensor_timer.html#ace1263828012e5e2c0011ca5ee2d4ad8">is_simulation</a>)</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <a class="code" href="class_sensor_timer.html#a4d29fdf6804a4777668d957a8333f9c6">nightTime</a> = time(NULL) - 60;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    time_t estimatedSleepLength = 60*60*8;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="class_sensor_timer.html#a9edffcd5c781e8942f8570f2bfe8232d">wakeTime</a> = <a class="code" href="class_sensor_timer.html#a4d29fdf6804a4777668d957a8333f9c6">nightTime</a> + estimatedSleepLength;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_pulse_sensor_8h_source.html#l00126">is_simulation</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00059">nightTime</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00065">wakeTime</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00226">SensorTimer()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_sensor_timer_a042706c0c1ec146beb95e8f3947211fd_icgraph.png" border="0" usemap="#aclass_sensor_timer_a042706c0c1ec146beb95e8f3947211fd_icgraph" alt=""/></div>
<map name="aclass_sensor_timer_a042706c0c1ec146beb95e8f3947211fd_icgraph" id="aclass_sensor_timer_a042706c0c1ec146beb95e8f3947211fd_icgraph">
<area shape="rect" title=" " alt="" coords="232,5,436,47"/>
<area shape="rect" href="class_sensor_timer.html#afbfb91d0dc35bf217cb22f50d680b26e" title=" " alt="" coords="5,13,184,39"/>
</map>
</div>

</div>
</div>
<a id="a86849a9ab4dc5443cc93f96f00c29f6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86849a9ab4dc5443cc93f96f00c29f6c">&#9670;&nbsp;</a></span>initPulseSensorVariables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SensorTimer::initPulseSensorVariables </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function intializes variables necessary to read the data, and get the beats per minute.</p>
<p><a href="https://github.com/WorldFamousElectronics/Raspberry_Pi">This function is taken from the hardware vendor's github repo.</a> </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00361">361</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                                              {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    wiringPiSetup(); <span class="comment">//use the wiringPi pin numbers</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    mcp3004Setup(<a class="code" href="_pulse_sensor_8h.html#a79bcfb6bde984f42d1124b068a509af7">BASE</a>,<a class="code" href="_pulse_sensor_8h.html#ae915de38397fbdc90276fa44e148c686">SPI_CHAN</a>);    <span class="comment">// setup the mcp3004 library</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10; ++i) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <a class="code" href="class_sensor_timer.html#ab74c86309da203b069a991f8ca09ae0a">rate</a>[i] = 0;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <a class="code" href="class_sensor_timer.html#a820b614d51dc988ae64219c133406f47">QS</a> = 0;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="class_sensor_timer.html#a54c96b55f91d091b3f11d9f4f5aaa34a">BPM</a> = 0;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <a class="code" href="class_sensor_timer.html#abc1f4e1db59f4aa0dae5793c90740a84">IBI</a> = 600;                  <span class="comment">// 600ms per beat = 100 Beats Per Minute (BPM)</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="class_sensor_timer.html#aaa0853dc77e341fcaf2f19bf968b4b4c">Pulse</a> = 0;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <a class="code" href="class_sensor_timer.html#a7ba22ffafc2b42ae3cdff31d47525fcb">sampleCounter</a> = 0;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <a class="code" href="class_sensor_timer.html#a4eeaf71d9a5f96e322b35081cf33f6e9">lastBeatTime</a> = 0;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="class_sensor_timer.html#a9bf478f0366940dab46992b626eb6614">P</a> = 512;                    <span class="comment">// peak at 1/2 the input range of 0..1023</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <a class="code" href="class_sensor_timer.html#ad78b1837ae8402db8111c1125d62c39a">T</a> = 512;                    <span class="comment">// trough at 1/2 the input range.</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="class_sensor_timer.html#a6e26abccf69140ef3749f95dccbb60aa">threshSetting</a> = 550;        <span class="comment">// used to seed and reset the thresh variable</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="class_sensor_timer.html#a888dc3b1bf9bfb452c679bccb018a387">thresh</a> = 550;     <span class="comment">// threshold a little above the trough</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <a class="code" href="class_sensor_timer.html#a69302d73a34d1ac10dbbd4d17e46493c">amp</a> = 100;                  <span class="comment">// beat amplitude 1/10 of input range.</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="code" href="class_sensor_timer.html#a285de7aa2794270cbcf59144afd4746a">firstBeat</a> = 1;           <span class="comment">// looking for the first beat</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="class_sensor_timer.html#a93f19ee800ea1f8b53d2bd9ca40374ab">secondBeat</a> = 0;         <span class="comment">// not yet looking for the second beat in a row</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <a class="code" href="class_sensor_timer.html#a03ed20714879814e22e5641940e1c764">lastTime</a> = micros();</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="class_sensor_timer.html#a884380525acb68dcbe88e55a48a37496">timeOutStart</a> = <a class="code" href="class_sensor_timer.html#a03ed20714879814e22e5641940e1c764">lastTime</a>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="class_sensor_timer.html#a0ee1760c265760a66758a9845f179f53">call_time_period</a> = 2000; <span class="comment">//in microseconds 2 milli s</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;}</div>
<div class="ttc" id="a_pulse_sensor_8h_html_ae915de38397fbdc90276fa44e148c686"><div class="ttname"><a href="_pulse_sensor_8h.html#ae915de38397fbdc90276fa44e148c686">SPI_CHAN</a></div><div class="ttdeci">#define SPI_CHAN</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00008">PulseSensor.h:8</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a0ee1760c265760a66758a9845f179f53"><div class="ttname"><a href="class_sensor_timer.html#a0ee1760c265760a66758a9845f179f53">SensorTimer::call_time_period</a></div><div class="ttdeci">int call_time_period</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00051">PulseSensor.h:51</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a884380525acb68dcbe88e55a48a37496"><div class="ttname"><a href="class_sensor_timer.html#a884380525acb68dcbe88e55a48a37496">SensorTimer::timeOutStart</a></div><div class="ttdeci">int timeOutStart</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00036">PulseSensor.h:36</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_pulse_sensor_8h_source.html#l00050">amp</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00007">BASE</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00047">BPM</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00051">call_time_period</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00043">firstBeat</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00048">IBI</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00039">lastBeatTime</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00034">lastTime</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00041">P</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00049">Pulse</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00045">QS</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00046">rate</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00038">sampleCounter</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00044">secondBeat</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00008">SPI_CHAN</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00042">T</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00040">thresh</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00039">threshSetting</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00036">timeOutStart</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00226">SensorTimer()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_sensor_timer_a86849a9ab4dc5443cc93f96f00c29f6c_icgraph.png" border="0" usemap="#aclass_sensor_timer_a86849a9ab4dc5443cc93f96f00c29f6c_icgraph" alt=""/></div>
<map name="aclass_sensor_timer_a86849a9ab4dc5443cc93f96f00c29f6c_icgraph" id="aclass_sensor_timer_a86849a9ab4dc5443cc93f96f00c29f6c_icgraph">
<area shape="rect" title=" " alt="" coords="232,5,427,47"/>
<area shape="rect" href="class_sensor_timer.html#afbfb91d0dc35bf217cb22f50d680b26e" title=" " alt="" coords="5,13,184,39"/>
</map>
</div>

</div>
</div>
<a id="a26f5ab50413256c6b9523b8cbe5f6a84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26f5ab50413256c6b9523b8cbe5f6a84">&#9670;&nbsp;</a></span>kill_the_pid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SensorTimer::kill_the_pid </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Kills the pid of given to it as parameter </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00304">304</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                                     {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="comment">//char kil[100] = &quot;kill -9 &quot;;</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="comment">//sprintf(kil,&quot;%s%d&quot;,kil, x);</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="comment">//system(kil);</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    kill(x,SIGINT);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00261">audioprocess()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_sensor_timer_a26f5ab50413256c6b9523b8cbe5f6a84_icgraph.png" border="0" usemap="#aclass_sensor_timer_a26f5ab50413256c6b9523b8cbe5f6a84_icgraph" alt=""/></div>
<map name="aclass_sensor_timer_a26f5ab50413256c6b9523b8cbe5f6a84_icgraph" id="aclass_sensor_timer_a26f5ab50413256c6b9523b8cbe5f6a84_icgraph">
<area shape="rect" title=" " alt="" coords="449,5,619,32"/>
<area shape="rect" href="class_sensor_timer.html#adb180c4dab8ccaa5eae6870aa851f76a" title=" " alt="" coords="220,5,401,32"/>
<area shape="rect" href="class_sensor_timer.html#a6d15ff3f37f39e6baa43cf22a48263f2" title=" " alt="" coords="5,5,172,32"/>
</map>
</div>

</div>
</div>
<a id="a03ec27b4291d6a2bdd84822415efe680"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03ec27b4291d6a2bdd84822415efe680">&#9670;&nbsp;</a></span>play_audio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pid_t SensorTimer::play_audio </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>audio_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is used inside the audioprocess It takes in the audio name as argument and forks the program to run the audio returns pid of the process which runs audio to the parent process </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00292">292</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                                             {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    pid_t audio_pid_local;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">if</span>(0 == (audio_pid_local = fork())){</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="comment">//child process</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="comment">//printf(&quot;reached here\n&quot;);</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        execlp(<span class="stringliteral">&quot;mpg123&quot;</span>, <span class="stringliteral">&quot;mpg123&quot;</span>, <span class="stringliteral">&quot;-q&quot;</span>, <a class="code" href="class_sensor_timer.html#a753287351e0381ca5d0d85df3078f762">audio_name</a>, 0);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <a class="code" href="class_sensor_timer.html#ab9ea2c04c2ed4e36f2983ad441fa06d7">is_audio_playing</a> = 1;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="class_sensor_timer.html#ab9ea2c04c2ed4e36f2983ad441fa06d7">is_audio_playing</a> = 1;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">return</span> audio_pid_local;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_pulse_sensor_8h_source.html#l00121">audio_name</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00104">is_audio_playing</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00261">audioprocess()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_sensor_timer_a03ec27b4291d6a2bdd84822415efe680_icgraph.png" border="0" usemap="#aclass_sensor_timer_a03ec27b4291d6a2bdd84822415efe680_icgraph" alt=""/></div>
<map name="aclass_sensor_timer_a03ec27b4291d6a2bdd84822415efe680_icgraph" id="aclass_sensor_timer_a03ec27b4291d6a2bdd84822415efe680_icgraph">
<area shape="rect" title=" " alt="" coords="449,5,616,32"/>
<area shape="rect" href="class_sensor_timer.html#adb180c4dab8ccaa5eae6870aa851f76a" title=" " alt="" coords="220,5,401,32"/>
<area shape="rect" href="class_sensor_timer.html#a6d15ff3f37f39e6baa43cf22a48263f2" title=" " alt="" coords="5,5,172,32"/>
</map>
</div>

</div>
</div>
<a id="a2b87e348b476be96d88ee70be98bef11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b87e348b476be96d88ee70be98bef11">&#9670;&nbsp;</a></span>setCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SensorTimer::setCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_sensor_callback.html">SensorCallback</a> *&#160;</td>
          <td class="paramname"><em>cb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the callback which is called whenever there is a sample </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00314">314</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                                                {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="comment">//printf(&quot;pointer: %p\n&quot;, cb);</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <a class="code" href="class_sensor_timer.html#ad58597d91c359dc772a970ee46ef2b8c">sensorCallback</a> = cb;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;}</div>
<div class="ttc" id="aclass_sensor_timer_html_ad58597d91c359dc772a970ee46ef2b8c"><div class="ttname"><a href="class_sensor_timer.html#ad58597d91c359dc772a970ee46ef2b8c">SensorTimer::sensorCallback</a></div><div class="ttdeci">SensorCallback * sensorCallback</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00033">PulseSensor.h:33</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_pulse_sensor_8h_source.html#l00033">sensorCallback</a>.</p>

<p class="reference">Referenced by <a class="el" href="main_8cpp_source.html#l00117">main()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_sensor_timer_a2b87e348b476be96d88ee70be98bef11_icgraph.png" border="0" usemap="#aclass_sensor_timer_a2b87e348b476be96d88ee70be98bef11_icgraph" alt=""/></div>
<map name="aclass_sensor_timer_a2b87e348b476be96d88ee70be98bef11_icgraph" id="aclass_sensor_timer_a2b87e348b476be96d88ee70be98bef11_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,277,32"/>
<area shape="rect" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a571f7dcc621738e57607586cea71d302"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a571f7dcc621738e57607586cea71d302">&#9670;&nbsp;</a></span>setNigtTimeToNow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SensorTimer::setNigtTimeToNow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>sets the night time to the current time. Useful in testing. </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00247">247</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                                  {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="class_sensor_timer.html#a4d29fdf6804a4777668d957a8333f9c6">nightTime</a> = time(NULL) - 60;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="class_sensor_timer.html#a9edffcd5c781e8942f8570f2bfe8232d">wakeTime</a> = <a class="code" href="class_sensor_timer.html#a4d29fdf6804a4777668d957a8333f9c6">nightTime</a> + 60*60*8;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_pulse_sensor_8h_source.html#l00059">nightTime</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00065">wakeTime</a>.</p>

<p class="reference">Referenced by <a class="el" href="main_8cpp_source.html#l00117">main()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_sensor_timer_a571f7dcc621738e57607586cea71d302_icgraph.png" border="0" usemap="#aclass_sensor_timer_a571f7dcc621738e57607586cea71d302_icgraph" alt=""/></div>
<map name="aclass_sensor_timer_a571f7dcc621738e57607586cea71d302_icgraph" id="aclass_sensor_timer_a571f7dcc621738e57607586cea71d302_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,279,47"/>
<area shape="rect" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,13,56,39"/>
</map>
</div>

</div>
</div>
<a id="afa77fed86caa66cbff25f6f1599e6012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa77fed86caa66cbff25f6f1599e6012">&#9670;&nbsp;</a></span>setPeriodOfSimulatedWave()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SensorTimer::setPeriodOfSimulatedWave </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>period</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>sets the time period of the triangular wave of bpm simulation </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00251">251</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                                                    {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="class_sensor_timer.html#a05ab0c30d7e40d9045c21b0b115c392d">period_of_simulation</a> = period;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_pulse_sensor_8h_source.html#l00136">period_of_simulation</a>.</p>

</div>
</div>
<a id="ad8d148ba672bccb72ca45fea9b98fb38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8d148ba672bccb72ca45fea9b98fb38">&#9670;&nbsp;</a></span>setSurelySleptTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SensorTimer::setSurelySleptTime </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>sets the surelySleptTime variable </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00244">244</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                                         {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="class_sensor_timer.html#a84505975df90206876681d89975faa52">surelySleptTime</a> = t;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_pulse_sensor_8h_source.html#l00084">surelySleptTime</a>.</p>

<p class="reference">Referenced by <a class="el" href="main_8cpp_source.html#l00117">main()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_sensor_timer_ad8d148ba672bccb72ca45fea9b98fb38_icgraph.png" border="0" usemap="#aclass_sensor_timer_ad8d148ba672bccb72ca45fea9b98fb38_icgraph" alt=""/></div>
<map name="aclass_sensor_timer_ad8d148ba672bccb72ca45fea9b98fb38_icgraph" id="aclass_sensor_timer_ad8d148ba672bccb72ca45fea9b98fb38_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,323,32"/>
<area shape="rect" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="ab27fde0c17025181e3008d3246077bbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab27fde0c17025181e3008d3246077bbc">&#9670;&nbsp;</a></span>stopNew()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SensorTimer::stopNew </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is a wrapper around <a class="el" href="class_cpp_timer.html#a4bb95ddee98a536d0818b8f6096bf7e7">stop()</a> function of the <a class="el" href="class_cpp_timer.html#a4bb95ddee98a536d0818b8f6096bf7e7">stop()</a> function of the <a class="el" href="class_cpp_timer.html">CppTimer</a> This function also kills any audio pid if it is present. </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00255">255</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                         {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="class_sensor_timer.html#aaeec2579eba748d10fa8532311b20e99">audio_pid</a> &gt; 0)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        kill(<a class="code" href="class_sensor_timer.html#aaeec2579eba748d10fa8532311b20e99">audio_pid</a>, SIGTERM);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="class_cpp_timer.html#a4bb95ddee98a536d0818b8f6096bf7e7">stop</a>();</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div>
<div class="ttc" id="aclass_cpp_timer_html_a4bb95ddee98a536d0818b8f6096bf7e7"><div class="ttname"><a href="class_cpp_timer.html#a4bb95ddee98a536d0818b8f6096bf7e7">CppTimer::stop</a></div><div class="ttdeci">virtual void stop()</div><div class="ttdef"><b>Definition:</b> <a href="_cpp_timer_8cpp_source.html#l00078">CppTimer.cpp:78</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_pulse_sensor_8h_source.html#l00116">audio_pid</a>, and <a class="el" href="_cpp_timer_8cpp_source.html#l00078">CppTimer::stop()</a>.</p>

<p class="reference">Referenced by <a class="el" href="main_8cpp_source.html#l00117">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_sensor_timer_ab27fde0c17025181e3008d3246077bbc_cgraph.png" border="0" usemap="#aclass_sensor_timer_ab27fde0c17025181e3008d3246077bbc_cgraph" alt=""/></div>
<map name="aclass_sensor_timer_ab27fde0c17025181e3008d3246077bbc_cgraph" id="aclass_sensor_timer_ab27fde0c17025181e3008d3246077bbc_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,161,32"/>
<area shape="rect" href="class_cpp_timer.html#a4bb95ddee98a536d0818b8f6096bf7e7" title=" " alt="" coords="209,5,321,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_sensor_timer_ab27fde0c17025181e3008d3246077bbc_icgraph.png" border="0" usemap="#aclass_sensor_timer_ab27fde0c17025181e3008d3246077bbc_icgraph" alt=""/></div>
<map name="aclass_sensor_timer_ab27fde0c17025181e3008d3246077bbc_icgraph" id="aclass_sensor_timer_ab27fde0c17025181e3008d3246077bbc_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,260,32"/>
<area shape="rect" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a6d15ff3f37f39e6baa43cf22a48263f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d15ff3f37f39e6baa43cf22a48263f2">&#9670;&nbsp;</a></span>timerEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SensorTimer::timerEvent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is a function in the parent class which is overidden here. Everything mentioned in the function is fired periodically after a certain interval. </p>

<p>Implements <a class="el" href="class_cpp_timer.html#ac2665403595b6aee5f581d0ebfeb886c">CppTimer</a>.</p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00319">319</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                             {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <a class="code" href="class_sensor_timer.html#a54d4119db865d1fd2bbff0fc8da67482">getPulse</a>();</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="class_sensor_timer.html#ace1263828012e5e2c0011ca5ee2d4ad8">is_simulation</a>)</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <a class="code" href="class_sensor_timer.html#ae70a0da132083a8135a17903baa68059">beatsPerMinuteSimulation</a>();</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <a class="code" href="class_sensor_timer.html#a1bf0ef8c1667be0f111419322d196077">sleep</a> = <a class="code" href="class_sensor_timer.html#a36233c0d18fe087bbfcf3a37bdf6dcec">analyzeBeatsForSleep</a>(<a class="code" href="class_sensor_timer.html#a54c96b55f91d091b3f11d9f4f5aaa34a">BPM</a>);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="class_sensor_timer.html#adb180c4dab8ccaa5eae6870aa851f76a">audioprocess</a>();</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">//Main print message</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    printf(<span class="stringliteral">&quot;BPM Threshold is: %d, BPM is: %d, Maybe he is asleep: %d, &quot;</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="stringliteral">&quot;Sleep is: %d, Audio_On: %d, Countdown: %d\r&quot;</span>, <a class="code" href="class_sensor_timer.html#a4db914e2d73ffb3202aeb4fb3ffb3073">bpmThreshold</a>,  <a class="code" href="class_sensor_timer.html#a54c96b55f91d091b3f11d9f4f5aaa34a">BPM</a>, <a class="code" href="class_sensor_timer.html#a6aaa261915f03ad857544fd629607ea6">maybeSleep</a>, <a class="code" href="class_sensor_timer.html#a1bf0ef8c1667be0f111419322d196077">sleep</a>, <a class="code" href="class_sensor_timer.html#ab9ea2c04c2ed4e36f2983ad441fa06d7">is_audio_playing</a>, <a class="code" href="class_sensor_timer.html#a6bb2773d68210a8d70742b118b84139f">countdown</a>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    fflush(stdout);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">nullptr</span> != <a class="code" href="class_sensor_timer.html#ad58597d91c359dc772a970ee46ef2b8c">sensorCallback</a>) {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <a class="code" href="class_sensor_timer.html#ad58597d91c359dc772a970ee46ef2b8c">sensorCallback</a>-&gt;<a class="code" href="class_sensor_callback.html#a89069694af2123270caf56839ed22cdd">hasSample</a>(<a class="code" href="class_sensor_timer.html#a54c96b55f91d091b3f11d9f4f5aaa34a">BPM</a>, <a class="code" href="class_sensor_timer.html#a1bf0ef8c1667be0f111419322d196077">sleep</a>, <a class="code" href="class_sensor_timer.html#a4db914e2d73ffb3202aeb4fb3ffb3073">bpmThreshold</a>);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    fflush(stdout);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;}</div>
<div class="ttc" id="aclass_sensor_callback_html_a89069694af2123270caf56839ed22cdd"><div class="ttname"><a href="class_sensor_callback.html#a89069694af2123270caf56839ed22cdd">SensorCallback::hasSample</a></div><div class="ttdeci">virtual void hasSample(int beats, bool mayBeSleep, int bpmThreshold)=0</div></div>
<div class="ttc" id="aclass_sensor_timer_html_a36233c0d18fe087bbfcf3a37bdf6dcec"><div class="ttname"><a href="class_sensor_timer.html#a36233c0d18fe087bbfcf3a37bdf6dcec">SensorTimer::analyzeBeatsForSleep</a></div><div class="ttdeci">bool analyzeBeatsForSleep(int bpm)</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00499">PulseSensor.h:499</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_a54d4119db865d1fd2bbff0fc8da67482"><div class="ttname"><a href="class_sensor_timer.html#a54d4119db865d1fd2bbff0fc8da67482">SensorTimer::getPulse</a></div><div class="ttdeci">void getPulse(void)</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00391">PulseSensor.h:391</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_adb180c4dab8ccaa5eae6870aa851f76a"><div class="ttname"><a href="class_sensor_timer.html#adb180c4dab8ccaa5eae6870aa851f76a">SensorTimer::audioprocess</a></div><div class="ttdeci">void audioprocess()</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00261">PulseSensor.h:261</a></div></div>
<div class="ttc" id="aclass_sensor_timer_html_ae70a0da132083a8135a17903baa68059"><div class="ttname"><a href="class_sensor_timer.html#ae70a0da132083a8135a17903baa68059">SensorTimer::beatsPerMinuteSimulation</a></div><div class="ttdeci">void beatsPerMinuteSimulation()</div><div class="ttdef"><b>Definition:</b> <a href="_pulse_sensor_8h_source.html#l00335">PulseSensor.h:335</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_pulse_sensor_8h_source.html#l00499">analyzeBeatsForSleep()</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00261">audioprocess()</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00335">beatsPerMinuteSimulation()</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00047">BPM</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00070">bpmThreshold</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00097">countdown</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00391">getPulse()</a>, <a class="el" href="class_sensor_callback.html#a89069694af2123270caf56839ed22cdd">SensorCallback::hasSample()</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00104">is_audio_playing</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00126">is_simulation</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00078">maybeSleep</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00033">sensorCallback</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00090">sleep</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_sensor_timer_a6d15ff3f37f39e6baa43cf22a48263f2_cgraph.png" border="0" usemap="#aclass_sensor_timer_a6d15ff3f37f39e6baa43cf22a48263f2_cgraph" alt=""/></div>
<map name="aclass_sensor_timer_a6d15ff3f37f39e6baa43cf22a48263f2_cgraph" id="aclass_sensor_timer_a6d15ff3f37f39e6baa43cf22a48263f2_cgraph">
<area shape="rect" title=" " alt="" coords="5,130,172,157"/>
<area shape="rect" href="class_sensor_timer.html#a36233c0d18fe087bbfcf3a37bdf6dcec" title=" " alt="" coords="226,5,409,47"/>
<area shape="rect" href="class_sensor_timer.html#adb180c4dab8ccaa5eae6870aa851f76a" title=" " alt="" coords="227,71,408,98"/>
<area shape="rect" href="class_sensor_timer.html#ae70a0da132083a8135a17903baa68059" title=" " alt="" coords="220,123,415,164"/>
<area shape="rect" href="class_sensor_timer.html#a54d4119db865d1fd2bbff0fc8da67482" title=" " alt="" coords="240,189,395,215"/>
<area shape="rect" href="class_sensor_callback.html#a89069694af2123270caf56839ed22cdd" title=" " alt="" coords="224,239,411,266"/>
<area shape="rect" href="class_sensor_timer.html#a26f5ab50413256c6b9523b8cbe5f6a84" title=" " alt="" coords="463,46,632,73"/>
<area shape="rect" href="class_sensor_timer.html#a03ec27b4291d6a2bdd84822415efe680" title=" " alt="" coords="464,97,631,123"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="a69302d73a34d1ac10dbbd4d17e46493c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69302d73a34d1ac10dbbd4d17e46493c">&#9670;&nbsp;</a></span>amp</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::amp = 100</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00050">50</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00391">getPulse()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00361">initPulseSensorVariables()</a>.</p>

</div>
</div>
<a id="a753287351e0381ca5d0d85df3078f762"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a753287351e0381ca5d0d85df3078f762">&#9670;&nbsp;</a></span>audio_name</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char SensorTimer::audio_name[500]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>string which stores the name of the audio file which should be played. </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00121">121</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00261">audioprocess()</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00292">play_audio()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00226">SensorTimer()</a>.</p>

</div>
</div>
<a id="aaeec2579eba748d10fa8532311b20e99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaeec2579eba748d10fa8532311b20e99">&#9670;&nbsp;</a></span>audio_pid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pid_t SensorTimer::audio_pid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>pid_t tracks the pid of the process which plays the audio. It needs to be tracked so that it can be killed at an appropriate moment. Also, it helps the program to avoid creating multiple pids. </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00116">116</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00261">audioprocess()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00255">stopNew()</a>.</p>

</div>
</div>
<a id="a54c96b55f91d091b3f11d9f4f5aaa34a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54c96b55f91d091b3f11d9f4f5aaa34a">&#9670;&nbsp;</a></span>BPM</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::BPM = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00047">47</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00335">beatsPerMinuteSimulation()</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00391">getPulse()</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00361">initPulseSensorVariables()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00319">timerEvent()</a>.</p>

</div>
</div>
<a id="a4db914e2d73ffb3202aeb4fb3ffb3073"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4db914e2d73ffb3202aeb4fb3ffb3073">&#9670;&nbsp;</a></span>bpmThreshold</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::bpmThreshold = 77</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>int variable which stores the threshold on beats per minute </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00070">70</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00499">analyzeBeatsForSleep()</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00226">SensorTimer()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00319">timerEvent()</a>.</p>

</div>
</div>
<a id="a0ee1760c265760a66758a9845f179f53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ee1760c265760a66758a9845f179f53">&#9670;&nbsp;</a></span>call_time_period</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::call_time_period = 2000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00051">51</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00361">initPulseSensorVariables()</a>.</p>

</div>
</div>
<a id="a6bb2773d68210a8d70742b118b84139f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bb2773d68210a8d70742b118b84139f">&#9670;&nbsp;</a></span>countdown</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::countdown = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00097">97</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00499">analyzeBeatsForSleep()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00319">timerEvent()</a>.</p>

</div>
</div>
<a id="a5e04d19d42170c73243dbcbbdedfdbc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e04d19d42170c73243dbcbbdedfdbc5">&#9670;&nbsp;</a></span>dataRequestStart</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::dataRequestStart</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00036">36</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

</div>
</div>
<a id="a1353e51d3e3db2f14a18afb14419c905"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1353e51d3e3db2f14a18afb14419c905">&#9670;&nbsp;</a></span>duration</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::duration</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00035">35</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00391">getPulse()</a>.</p>

</div>
</div>
<a id="a23904c4f9bc7b0ef8f39e9158da989a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23904c4f9bc7b0ef8f39e9158da989a3">&#9670;&nbsp;</a></span>elapsedTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int SensorTimer::elapsedTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00034">34</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00391">getPulse()</a>.</p>

</div>
</div>
<a id="ab410d5296b53f11c14037a0639d905ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab410d5296b53f11c14037a0639d905ae">&#9670;&nbsp;</a></span>eventCounter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int SensorTimer::eventCounter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00034">34</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

</div>
</div>
<a id="a285de7aa2794270cbcf59144afd4746a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a285de7aa2794270cbcf59144afd4746a">&#9670;&nbsp;</a></span>firstBeat</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::firstBeat = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00043">43</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00391">getPulse()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00361">initPulseSensorVariables()</a>.</p>

</div>
</div>
<a id="a29b97782575a74a0d4bf7af50bad66cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29b97782575a74a0d4bf7af50bad66cc">&#9670;&nbsp;</a></span>firstTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::firstTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00035">35</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

</div>
</div>
<a id="abc1f4e1db59f4aa0dae5793c90740a84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc1f4e1db59f4aa0dae5793c90740a84">&#9670;&nbsp;</a></span>IBI</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::IBI = 600</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00048">48</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00391">getPulse()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00361">initPulseSensorVariables()</a>.</p>

</div>
</div>
<a id="ab9ea2c04c2ed4e36f2983ad441fa06d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9ea2c04c2ed4e36f2983ad441fa06d7">&#9670;&nbsp;</a></span>is_audio_playing</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SensorTimer::is_audio_playing = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>bool which if 1 means the audio is playin and if zero means the audio is not playing. This is useful for functions which play audio as they must know if audio is playing or not. </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00104">104</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00261">audioprocess()</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00292">play_audio()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00319">timerEvent()</a>.</p>

</div>
</div>
<a id="ace1263828012e5e2c0011ca5ee2d4ad8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace1263828012e5e2c0011ca5ee2d4ad8">&#9670;&nbsp;</a></span>is_simulation</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SensorTimer::is_simulation = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>bool which if 1, will lead to production of simulated values of beats per minute (BPM). </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00126">126</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00479">initializeVariablesForSleep()</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00226">SensorTimer()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00319">timerEvent()</a>.</p>

</div>
</div>
<a id="a4eeaf71d9a5f96e322b35081cf33f6e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4eeaf71d9a5f96e322b35081cf33f6e9">&#9670;&nbsp;</a></span>lastBeatTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::lastBeatTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00039">39</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00391">getPulse()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00361">initPulseSensorVariables()</a>.</p>

</div>
</div>
<a id="a03ed20714879814e22e5641940e1c764"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03ed20714879814e22e5641940e1c764">&#9670;&nbsp;</a></span>lastTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int SensorTimer::lastTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00034">34</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00391">getPulse()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00361">initPulseSensorVariables()</a>.</p>

</div>
</div>
<a id="ac2688bda3961332bcb0a80a63be6c0f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2688bda3961332bcb0a80a63be6c0f5">&#9670;&nbsp;</a></span>m</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::m</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00036">36</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

</div>
</div>
<a id="a6aaa261915f03ad857544fd629607ea6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aaa261915f03ad857544fd629607ea6">&#9670;&nbsp;</a></span>maybeSleep</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SensorTimer::maybeSleep = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>bool variable which if is one the person is in maybesleep state. If it remains in this state for a while then the person gets into sleep state in a while maybeSleep is a superset of the sleep state. In other words, maybeSleep is a necessary condition for sleep. </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00078">78</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00499">analyzeBeatsForSleep()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00319">timerEvent()</a>.</p>

</div>
</div>
<a id="a4d29fdf6804a4777668d957a8333f9c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d29fdf6804a4777668d957a8333f9c6">&#9670;&nbsp;</a></span>nightTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">time_t SensorTimer::nightTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>time_t variable stores when the night will start on the current day </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00059">59</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00499">analyzeBeatsForSleep()</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00479">initializeVariablesForSleep()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00247">setNigtTimeToNow()</a>.</p>

</div>
</div>
<a id="a9bf478f0366940dab46992b626eb6614"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bf478f0366940dab46992b626eb6614">&#9670;&nbsp;</a></span>P</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::P = 512</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00041">41</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00391">getPulse()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00361">initPulseSensorVariables()</a>.</p>

</div>
</div>
<a id="a05ab0c30d7e40d9045c21b0b115c392d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05ab0c30d7e40d9045c21b0b115c392d">&#9670;&nbsp;</a></span>period_of_simulation</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">time_t SensorTimer::period_of_simulation = 60*1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The simulation produces a triagular wave of bpm. This is the time period of the waveform </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00136">136</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00335">beatsPerMinuteSimulation()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00251">setPeriodOfSimulatedWave()</a>.</p>

</div>
</div>
<a id="ab8ae50b1ee64129594c15f056856c35f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8ae50b1ee64129594c15f056856c35f">&#9670;&nbsp;</a></span>play_audio_locally</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SensorTimer::play_audio_locally = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>bool which if &gt; 0 means that the audio will be played by the program itself and not a remote server. </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00110">110</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00261">audioprocess()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00226">SensorTimer()</a>.</p>

</div>
</div>
<a id="aaa0853dc77e341fcaf2f19bf968b4b4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa0853dc77e341fcaf2f19bf968b4b4c">&#9670;&nbsp;</a></span>Pulse</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::Pulse = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00049">49</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00391">getPulse()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00361">initPulseSensorVariables()</a>.</p>

</div>
</div>
<a id="a820b614d51dc988ae64219c133406f47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a820b614d51dc988ae64219c133406f47">&#9670;&nbsp;</a></span>QS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::QS = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00045">45</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00391">getPulse()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00361">initPulseSensorVariables()</a>.</p>

</div>
</div>
<a id="ab74c86309da203b069a991f8ca09ae0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab74c86309da203b069a991f8ca09ae0a">&#9670;&nbsp;</a></span>rate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::rate[10]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00046">46</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00391">getPulse()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00361">initPulseSensorVariables()</a>.</p>

</div>
</div>
<a id="a7ba22ffafc2b42ae3cdff31d47525fcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ba22ffafc2b42ae3cdff31d47525fcb">&#9670;&nbsp;</a></span>sampleCounter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int SensorTimer::sampleCounter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00038">38</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00391">getPulse()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00361">initPulseSensorVariables()</a>.</p>

</div>
</div>
<a id="a93f19ee800ea1f8b53d2bd9ca40374ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93f19ee800ea1f8b53d2bd9ca40374ab">&#9670;&nbsp;</a></span>secondBeat</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::secondBeat = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00044">44</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00391">getPulse()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00361">initPulseSensorVariables()</a>.</p>

</div>
</div>
<a id="ac2de8ccb0d70b801574f962baae0a5cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2de8ccb0d70b801574f962baae0a5cb">&#9670;&nbsp;</a></span>secondTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::secondTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00035">35</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

</div>
</div>
<a id="ad58597d91c359dc772a970ee46ef2b8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad58597d91c359dc772a970ee46ef2b8c">&#9670;&nbsp;</a></span>sensorCallback</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sensor_callback.html">SensorCallback</a>* SensorTimer::sensorCallback = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00033">33</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00314">setCallback()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00319">timerEvent()</a>.</p>

</div>
</div>
<a id="a73b3600a3b439a889ec2aefb6e9d406e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73b3600a3b439a889ec2aefb6e9d406e">&#9670;&nbsp;</a></span>Signal</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::Signal</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00037">37</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00391">getPulse()</a>.</p>

</div>
</div>
<a id="af524226ec78b66a274851119f7b00a2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af524226ec78b66a274851119f7b00a2f">&#9670;&nbsp;</a></span>simulation_started</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SensorTimer::simulation_started = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>bool which is set to 1 if the simulation has started. </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00131">131</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00335">beatsPerMinuteSimulation()</a>.</p>

</div>
</div>
<a id="a1bf0ef8c1667be0f111419322d196077"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bf0ef8c1667be0f111419322d196077">&#9670;&nbsp;</a></span>sleep</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SensorTimer::sleep</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This variable is set to one by [todo] to one if the person is sleep. This is read by various other functions to take appropriate actions. </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00090">90</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00261">audioprocess()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00319">timerEvent()</a>.</p>

</div>
</div>
<a id="a5b5f30f0afd6eb4a9df8f7b6b6869a6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b5f30f0afd6eb4a9df8f7b6b6869a6a">&#9670;&nbsp;</a></span>start_of_simulation</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t SensorTimer::start_of_simulation</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00201">201</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00335">beatsPerMinuteSimulation()</a>.</p>

</div>
</div>
<a id="ad2a424f227d18421cf94c86d7eb031be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2a424f227d18421cf94c86d7eb031be">&#9670;&nbsp;</a></span>startOfProspectiveSleep</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">time_t SensorTimer::startOfProspectiveSleep</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>time_t variable which stores the unix time of a person getting in the maybeSleep state </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00095">95</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00499">analyzeBeatsForSleep()</a>.</p>

</div>
</div>
<a id="a84505975df90206876681d89975faa52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84505975df90206876681d89975faa52">&#9670;&nbsp;</a></span>surelySleptTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">time_t SensorTimer::surelySleptTime = 2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>time_t variable which contains the time the program waits for the person to be in maybesleep state before he is put into sleep state as well. </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00084">84</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00499">analyzeBeatsForSleep()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00244">setSurelySleptTime()</a>.</p>

</div>
</div>
<a id="ad78b1837ae8402db8111c1125d62c39a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78b1837ae8402db8111c1125d62c39a">&#9670;&nbsp;</a></span>T</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::T = 512</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00042">42</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00391">getPulse()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00361">initPulseSensorVariables()</a>.</p>

</div>
</div>
<a id="ab8ae36c7b7cb90c0b0d119e890489338"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8ae36c7b7cb90c0b0d119e890489338">&#9670;&nbsp;</a></span>thisTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int SensorTimer::thisTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00034">34</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00391">getPulse()</a>.</p>

</div>
</div>
<a id="a888dc3b1bf9bfb452c679bccb018a387"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a888dc3b1bf9bfb452c679bccb018a387">&#9670;&nbsp;</a></span>thresh</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::thresh = 550</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00040">40</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00391">getPulse()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00361">initPulseSensorVariables()</a>.</p>

</div>
</div>
<a id="a6e26abccf69140ef3749f95dccbb60aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e26abccf69140ef3749f95dccbb60aa">&#9670;&nbsp;</a></span>threshSetting</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::threshSetting</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00039">39</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00391">getPulse()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00361">initPulseSensorVariables()</a>.</p>

</div>
</div>
<a id="a884380525acb68dcbe88e55a48a37496"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a884380525acb68dcbe88e55a48a37496">&#9670;&nbsp;</a></span>timeOutStart</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SensorTimer::timeOutStart</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00036">36</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00361">initPulseSensorVariables()</a>.</p>

</div>
</div>
<a id="a9edffcd5c781e8942f8570f2bfe8232d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9edffcd5c781e8942f8570f2bfe8232d">&#9670;&nbsp;</a></span>wakeTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">time_t SensorTimer::wakeTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>time_t which is set as nightTime plus 8 hours. Not the actual wake up time of the person it can be taken as the morning time. </p>

<p class="definition">Definition at line <a class="el" href="_pulse_sensor_8h_source.html#l00065">65</a> of file <a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_pulse_sensor_8h_source.html#l00499">analyzeBeatsForSleep()</a>, <a class="el" href="_pulse_sensor_8h_source.html#l00479">initializeVariablesForSleep()</a>, and <a class="el" href="_pulse_sensor_8h_source.html#l00247">setNigtTimeToNow()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/<a class="el" href="_pulse_sensor_8h_source.html">PulseSensor.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_sensor_timer.html">SensorTimer</a></li>
    <li class="footer">Generated on Mon Apr 19 2021 23:13:09 for DreamHacker by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
